{
  "discriminatorValue": "#Microsoft.Skills.Custom.ChatCompletionSkill",
  "label": "ChatCompletionSkill",
  "description": "A skill that calls a language model via Azure AI Foundry's Chat Completions endpoint.",
  "fields": [
    {
      "key": "apiKey",
      "label": "API Key",
      "type": "string",
      "tooltip": "API key for authenticating to the model. Both apiKey and authIdentity cannot be specified at the same time."
    },
    {
      "key": "authIdentity",
      "label": "Auth Identity",
      "type": "object",
      "tooltip": "The user-assigned managed identity used for outbound connections. If an authResourceId is provided and it's not specified, the system-assigned managed identity is used. On updates to the indexer, if the identity is unspecified, the value remains unchanged. If set to \"none\", the value of this property is cleared.",
      "schema": {
        "$ref": "Common/DataIdentity/dataIdentityConfig.json"
      }
    },
    {
      "key": "authResourceId",
      "label": "Auth Resource ID",
      "type": "string",
      "tooltip": "Applies to custom skills that connect to external code in an Azure function or some other application that provides the transformations. This value should be the application ID created for the function or app when it was registered with Azure Active Directory. When specified, the custom skill connects to the function or app using a managed ID (either system or user-assigned) of the search service and the access token of the function or app, using this value as the resource id for creating the scope of the access token."
    },
    {
      "key": "batchSize",
      "label": "Batch Size",
      "type": "number",
      "tooltip": "The desired batch size which indicates number of documents."
    },
    {
      "key": "commonModelParameters",
      "label": "Common Model Parameters",
      "type": "object",
      "tooltip": "Common language model parameters that customers can tweak. If omitted, reasonable defaults will be applied.",
      "schema": { "$ref": "Skillset/types/ChatCompletionCommonModelParameters.json" }
    },
    {
      "key": "degreeOfParallelism",
      "label": "Degree Of Parallelism",
      "type": "number",
      "tooltip": "If set, the number of parallel calls that can be made to the Web API."
    },
    {
      "key": "extraParameters",
      "label": "Extra Parameters",
      "type": "string",
      "tooltip": "Open-type dictionary for model-specific parameters that should be appended to the chat completions call. Follows Azure AI Foundry's extensibility pattern."
    },
    {
      "key": "extraParametersBehavior",
      "label": "Extra Parameters Behavior",
      "type": "enum",
      "tooltip": "How extra parameters are handled by Azure AI Foundry. Default is 'error'.",
      "options": { "$ref": "Skillset/Skills/enums/ChatCompletionExtraParametersBehavior.json" }
    },
    {
      "key": "httpHeaders",
      "label": "HTTP Headers",
      "type": "object",
      "tooltip": "The headers required to make the http request."
    },
    {
      "key": "httpMethod",
      "label": "HTTP Method",
      "type": "string",
      "tooltip": "The method for the http request."
    },
    {
      "key": "responseFormat",
      "label": "Response Format",
      "type": "object",
      "tooltip": "Determines how the LLM should format its response. Defaults to 'text' response type.",
      "schema": { "$ref": "Skillset/types/ChatCompletionResponseFormat.json" }
    },
    {
      "key": "timeout",
      "label": "Timeout",
      "type": "string",
      "tooltip": "The desired timeout for the request. Default is 30 seconds."
    },
    {
      "key": "uri",
      "label": "URI",
      "type": "string",
      "tooltip": "The url for the Web API."
    }
  ]
}
